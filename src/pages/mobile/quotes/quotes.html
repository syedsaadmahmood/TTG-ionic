<!--
  Generated template for the QuotesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Quotes</ion-title>
    <ion-buttons right>
      <button *ngIf="persona == 'tech_owner'" (click)="addQuotePage()"  ion-button icon-only ><ion-icon name="add"></ion-icon></button>
      <button ion-button icon-only><ion-icon name="search"></ion-icon></button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content >
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div *ngIf="persona == 'tech_owner'">
    <div class = "row" padding>
      <div col-5 (click)="SelectCase('accepted')">
        <h3 *ngIf="caseSelect=='accepted'">Accepted</h3>
        <h3 class="app-color-secondary" *ngIf="caseSelect!='accepted'">Accepted</h3>
      </div>

      <div col-4 (click)="SelectCase('pending')">
        <h3 *ngIf="caseSelect=='pending'">Pending</h3>
        <h3 class="app-color-secondary" *ngIf="caseSelect!='pending'">Pending</h3>
      </div>

      <div col-3 (click)="SelectCase('drafts')">
        <h3 *ngIf="caseSelect=='drafts'">Drafts</h3>
        <h3 class="app-color-secondary" *ngIf="caseSelect!='drafts'">Drafts</h3>
      </div>
    </div>

    <ion-list *ngIf="caseSelect=='accepted'">
      <ion-item-group *ngFor="let quote of acceptedQuotes; let i = index">
        <ion-item-sliding>
          <div ion-item (click)="navigationToQuotesDetail(quote)">
            <ion-avatar item-start>
              <img [src]=userDp>
            </ion-avatar>
            <h2>{{quote.title}}</h2>
            <p>
              eric@teamtechguru.com
            </p>
            <span item-end >{{quote.monthlyCap}}</span>
          </div>
        </ion-item-sliding>
      </ion-item-group>
    </ion-list>

    <ion-list *ngIf="caseSelect=='pending'">
      <ion-item-group *ngFor="let quote of pendingQuotes; let i = index">
        <ion-item-sliding>
          <div ion-item (click)="navigationToQuotesDetail(quote)">
            <ion-avatar item-start>
              <img [src]=userDp>
            </ion-avatar>
            <h2>{{quote.title}}</h2>
            <p>
              sam@assemblyco.com
            </p>
            <span item-end >{{quote.monthlyCap}}</span>
          </div>
        </ion-item-sliding>
      </ion-item-group>
    </ion-list>

    <ion-list *ngIf="caseSelect=='drafts'">
      <ion-item-group >
        <ion-item-sliding>
          <div ion-item (click)="navigationToQuotesDetail()">
            <ion-avatar item-start>
              <img [src]=userDp>
            </ion-avatar>
            <h2>Team Tech Guru</h2>
            <p>
              billing@teamtechguru.com
            </p>
          </div>
        </ion-item-sliding>
      </ion-item-group>
    </ion-list>

  </div>


  <div *ngIf="persona == 'customer'">
    <p class="list-seperator app-color-background-color-secondary app-color">PENDING</p>
  <ion-list >
    <ion-item-group >

      <ion-item-sliding>

        <div ion-item (click)="navigationToQuotesDetail()">
          <ion-avatar item-start>
            <img [src]=userDp>
          </ion-avatar>
          <h2>Team Tech Guru</h2>
          <p>
            eric@teamtechguru.com
          </p>
        </div>

      </ion-item-sliding>

    </ion-item-group>

    <ion-item-group>

      <ion-item-sliding>

        <div ion-item (click)="navigationToQuotesDetail()">
          <ion-avatar item-start>
            <img [src]=userDp>
          </ion-avatar>
          <h2>Assembly Co.</h2>
          <p>
            sam@assemblyco.com
          </p>
          <span item-end >$3,000</span>
        </div>

      </ion-item-sliding>

    </ion-item-group>


  </ion-list>

  <p class="list-seperator app-color-background-color-secondary app-color">ACCEPTED</p>

  <ion-list>
    <ion-item-group>

      <ion-item-sliding>

        <div ion-item (click)="navigationToQuotesDetail()">
          <ion-avatar item-start>
            <img [src]=userDp>
          </ion-avatar>
          <h2>Team Tech Guru</h2>
          <p>
            eric@teamtechguru.com
          </p>
        </div>
      </ion-item-sliding>

    </ion-item-group>

    <ion-item-group>

      <ion-item-sliding>

        <div ion-item (click)="navigationToQuotesDetail()">
          <ion-avatar item-start>
            <img [src]=userDp>
          </ion-avatar>
          <h2>Assembly Co.</h2>
          <p>
            sam@assemblyco.com
          </p>
          <span item-end >$3,000</span>
        </div>
      </ion-item-sliding>
    </ion-item-group>


    <ion-item-group>

      <ion-item-sliding>

        <div ion-item (click)="navigationToQuotesDetail()">
          <ion-avatar item-start>
            <img [src]=userDp>
          </ion-avatar>
          <h2>BenQ</h2>
          <p>
            george@benq.com
          </p>
          <span item-end >$5,000</span>
        </div>
      </ion-item-sliding>
    </ion-item-group>

  </ion-list>

  </div>
</ion-content>
